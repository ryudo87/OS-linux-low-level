
#### **协程**理解为**用户态轻量级线程**    
是对内核透明的，也就是系统并不知道有协程的存在，是完全由用户的程序自己调度的
协程是属于线程的。协程程序是在线程里面跑的，
协没有线程的上下文切换消耗。协程的调度切换是用户(程序员)手动切换的, 又叫用户空间线程.
原子操作性。由于协程是用户调度的，所以不会出现执行一半的代码片段被强制中断了，因此无需原子操作锁。



#### 进程是**系统资源分配的最小单位**, 
包括文本区域（text region）、数据区域（data region）和堆栈（stack region）
#### 线程是**CPU调度的最小单位** 
线程属于进程   线程共享进程的内存地址空间(address space)

#### 进程切换分3步:

切换页目录以使用新的地址空间
切换内核栈
切换硬件上下文
而线程切换只需要第2、3步,因此进程的切换代价比较大

####  进程、线程、协程
协程与线程主要区别是它将不再被内核调度，而是交给了程序自己而线程是将自己交给内核调度
应该说和函数调用 call/return对应


## Stack和Heap的区别
与C++不同，Java自动管理栈和堆，程序员不能直接地设置栈或堆。 
基本类型、对象的引用储存在stack中；对象储存在heap中。

#### heap
1.Java中对象都是分配在heap(堆)中。从heap中分配内存所消耗的时间远远大于从stack分配内存的时间。
2 所有的应用可以从一个系统共用的heap中申请供自己使用的内存
在运行过程中通过new来动态分配内存空间，而且必须显示地free你申请过的内存，不过Java的垃圾回收帮你释放这部分内存。 
#### stack
(1)每个应用程序运行时，都有属于自己的stack。 ，用于存放临时变量、参数传递、函数调用时的PC值的保存。
(3)stack中的对象或变量，应用程序结束时会自动释放。 

stack中变量的大小和个数会影响exe的文件大小，但速度快。堆中的变量大小与exe大小关系不大

